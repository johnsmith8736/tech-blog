---
title: '解密Linux文件权限：读懂 rwx 和 chmod'
date: '2025-07-24'
tags: ['Linux', 'Permissions', 'chmod', 'Beginner']
---

欢迎来到Linux的世界！如果你刚刚踏上这段旅程，那么你一定很快就会遇到那个令人困惑又无处不在的提示：`Permission denied` (权限被拒绝)。

为什么我不能编辑这个文件？为什么我无法运行这个脚本？这些问题的答案，都指向了Linux系统一个强大且核心的概念——**文件权限**。

理解文件权限，是从Linux新手到高手的必经之路。它不仅是解决“权限被拒绝”问题的钥匙，更是保护你系统安全的第一道防线。这篇教程将用最通俗易懂的方式，带你彻底搞懂Linux的权限机制。

### 第一步：如何查看文件权限？

让我们从`ls -l`这个命令开始，它是我们观察文件权限的窗口。当你在终端里输入它，会看到类似下面的输出：

```bash
$ ls -l
-rwxr-xr-- 1 arch arch 4096 Jul 24 10:30 my_script.sh
drwxr-xr-x 2 arch arch 4096 Jul 24 10:32 my_directory
```

我们关注的是每一行开头的那串神秘代码，比如`-rwxr-xr--`。这10个字符就是文件权限的全部信息，我们可以把它分成四个部分来解读：

`[文件类型] [所有者权限] [所属组权限] [其他人权限]`

1.  **文件类型 (第1个字符)**
    *   `-`: 代表这是一个普通文件 (file)。
    *   `d`: 代表这是一个目录 (directory)。
    *   `l`: 代表这是一个链接 (link)。

2.  **所有者权限 (第2-4个字符)**: `rwx` - 文件拥有者的权限。
3.  **所属组权限 (第5-7个字符)**: `r-x` - 与文件拥有者同组的用户的权限。
4.  **其他人权限 (第8-10个字符)**: `r--` - 系统上其他所有用户的权限。

### `r`, `w`, `x` 的真正含义

“读、写、执行”这三个权限，对于文件和目录的意义是不同的，理解这一点至关重要。

| 权限 | 对文件的意义 | 对目录的意义 |
| :--: | :--- | :--- |
| `r` (Read) | 可以读取文件的**内容** | 可以列出目录下的**文件和子目录列表** (使用`ls`) |
| `w` (Write) | 可以修改文件的**内容** | 可以在目录中**创建、删除、重命名文件** |
| `x` (Execute) | 可以将文件作为**程序来执行** | 可以**进入 (cd)** 这个目录 |

**特别注意**：对于目录来说，`x`权限是基础。如果没有`x`权限，你甚至无法`cd`进入该目录，也就谈不上读取和修改目录内的任何东西了。

### 修改权限的魔杖：`chmod`

`chmod` (change mode) 命令是我们用来修改文件或目录权限的工具。它有两种使用模式：符号模式和数字模式。

#### 1. 符号模式：直观易懂

符号模式使用身份符号和权限符号的组合，非常接近自然语言。

*   **身份符号**:
    *   `u` (user): 文件所有者
    *   `g` (group): 所属组
    *   `o` (others): 其他人
    *   `a` (all):所有人 (u, g, o的总和)
*   **操作符号**:
    *   `+`: 添加权限
    *   `-`: 移除权限
    *   `=`: 设置为指定的唯一权限

**示例**：

```bash
# 给 my_script.sh 的所有者(u)添加执行(x)权限
chmod u+x my_script.sh

# 移除其他人(o)对 my_data.txt 的写入(w)权限
chmod o-w my_data.txt

# 设置 config.conf 的权限为：所有者可读写，其他人只读
chmod u=rw,go=r config.conf

# 给所有用户(a)添加对 public_file.txt 的读取(r)权限
chmod a+r public_file.txt
```

#### 2. 数字模式：高效快捷

在脚本和许多教程中，你更常见到的是数字模式。它用一个三位数的数字来代表权限，例如 `755`。

这个数字的原理是：
*   `r` = 4
*   `w` = 2
*   `x` = 1

将每组身份（所有者、所属组、其他人）的权限数字相加，就得到了该组的权限代码。

*   `rwx` = 4 + 2 + 1 = `7`
*   `r-x` = 4 + 0 + 1 = `5`
*   `rw-` = 4 + 2 + 0 = `6`
*   `r--` = 4 + 0 + 0 = `4`

**常见组合**：

*   `chmod 755 my_script.sh`
    *   所有者: `rwx` (7) - 可读、可写、可执行
    *   所属组: `r-x` (5) - 可读、可执行
    *   其他人: `r-x` (5) - 可读、可执行
    *   *(这是脚本和程序的标准权限)*

*   `chmod 644 index.html`
    *   所有者: `rw-` (6) - 可读、可写
    *   所属组: `r--` (4) - 只读
    *   其他人: `r--` (4) - 只读
    *   *(这是网页文件等公开文本文件的标准权限)*

*   `chmod 600 id_rsa`
    *   所有者: `rw-` (6) - 可读、可写
    *   所属组: `---` (0) - 无任何权限
    *   其他人: `---` (0) - 无任何权限
    *   *(这是SSH私钥等绝密文件的标准权限)*

### 实战演练

1.  **问题**: 我刚从网上下载了一个安装脚本 `install.sh`，想运行它但提示 `Permission denied`。
    **解决**: `chmod 755 install.sh` 或 `chmod +x install.sh`

2.  **问题**: 我想创建一个 `notes.txt` 文件，只允许我自己读写，其他人不能进行任何操作。
    **解决**: `chmod 600 notes.txt`

3.  **问题**: 我想创建一个共享目录 `shared_folder`，我自己和同组的伙伴可以在里面创建和删除文件，但其他人只能查看文件列表。
    **解决**: `chmod 775 shared_folder`

### 总结

恭喜你！现在你已经掌握了Linux文件权限的核心知识。

*   使用 `ls -l` 来**查看**权限。
*   理解 `rwx` 对**文件**和**目录**的不同含义。
*   使用 `chmod` 命令来**修改**权限，无论是直观的**符号模式**还是高效的**数字模式**。

现在，当再遇到 `Permission denied` 时，你不再是一个无助的新手，而是一个能从容分析并解决问题的Linux用户了。去尽情地练习吧！
